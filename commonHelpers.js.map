{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nexport const perPage = 15;\n\n  axios.defaults.baseURL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const KEY = '42750923-b31641a9e28119200a05c3b82';\n  \n  export async function getPicture(value, page) {\n  const result =  await axios.get(`${END_POINT}`, {params: {\n    key: KEY,\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: perPage,\n    page\n  }})\n  return result\n}\n","\n\nexport const list = document.querySelector(\".gallery\")\n\nexport function createMarkup(arr){\n    return arr.map(el => `<li class=\"gallery-item\">\n    <a href=\"${el.largeImageURL}\" class=\"gallery-link\">\n    <img class=\"gallery-img\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" loading=\"lazy\"/>\n    </a>\n    <div class=\"gallery-container\">\n    <p class=\"gallery-text\">Likes<span>${el.likes}</span></p>\n      <p class=\"gallery-text\">Views<span>${el.views}</span></p>\n      <p class=\"gallery-text\">Comments<span>${el.comments}</span></p>\n      <p class=\"gallery-text\">Downloads<span>${el.downloads}</span></p>\n    </div>\n  </li>`).join(' ')\n  }\n\n  \n\n  export function rendering(arr){\n    list.insertAdjacentHTML(\"beforeend\", createMarkup(arr)) \n    \n  }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport {getPicture, perPage} from \"./js/pixabay-api\"\nimport {rendering} from \"./js/render-function\";\nimport {list} from \"./js/render-function\";\nconst form = document.querySelector(\"form\");\nconst input = document.querySelector(\"input\");\nconst PgBtn = document.querySelector(\".pagin-button\");\nconst loader = document.querySelector(\".loader\");\nlet page = 1;\n\nfunction scrollOn(element){\n  const value = element.getBoundingClientRect();\n  const scrolHeight = value.height*2;\n  window.scrollBy({\n    top: scrolHeight,\n    behavior : \"smooth\"\n  });\n}\n\nfunction showLoader() {\n  loader.classList.remove(\"is-hidden\");\n  }\n\n  function hideLoader() {\n    loader.classList.add(\"is-hidden\");\n    }\n\n    function showBtn() {\n      PgBtn.classList.remove(\"is-hidden\");\n      }\n    \n      function hideBtn() {\n        PgBtn.classList.add(\"is-hidden\");\n        }\n\n        function theEnd(length, page){\n          if(length < page){\n            iziToast.warning({\n              message: 'We are sorry, but youve reached the end of search results.!', position: \"center\", close: false, closeOnClick: true, progressBar: false, messageSize: 30, timeout: false, displayMode: 1\n            }); \n            hideBtn();\n        }\n        }\n\nasync function forListener(e){\n  e.preventDefault();\n  page = 1;\n  showLoader();\n  list.innerHTML = \"\";\n  const inputValue = form.elements.field.value;\n if(inputValue){ \n  try{ \n   const result = await getPicture(inputValue, page);\n    if(result.data.total !== 0){\n    rendering(result.data.hits);\n    modal.refresh();\n    showBtn();\n    theEnd(result.data.hits.length, perPage)\n  }else{\n  iziToast.warning({\n    message: 'Sorry, there are no images matching your search query. Please try again!', position: \"center\", close: false, closeOnClick: true, progressBar: false, messageSize: 30, timeout: false, displayMode: 1\n})\ninput.value = \"\"\nhideBtn();\n }}\n catch(eror){\n      iziToast.warning({\n        message: 'Ups, something wrong bad. Please try again!', position: \"center\", close: false, closeOnClick: true, progressBar: false, messageSize: 30, timeout: false, displayMode: 1\n    })  \n     }\n     finally{hideLoader()} \n}else{iziToast.warning({\n  message: 'Please enter the name of the picture!', position: \"center\", close: false, closeOnClick: true, progressBar: false, messageSize: 30, timeout: false, displayMode: 1, transitionIn: \"flipInX\"\n})\nhideLoader()\n}\n}\n\nasync function forPgBtn(e){\n page++;\n  e.preventDefault();\n  showLoader();\n  const inputValue = form.elements.field.value;\n  try{ \n    const result = await getPicture(inputValue, page);\n    rendering(result.data.hits);\n    modal.refresh();\n    const item = document.querySelector(\".gallery-item\");\nscrollOn(item);\ntheEnd(result.data.hits.length, perPage)}\ncatch(eror){\n  iziToast.warning({\n    message: 'Ups, something wrong bad. Please try again!', position: \"center\", close: false, closeOnClick: true, progressBar: false, messageSize: 30, timeout: false, displayMode: 1\n})}  \nfinally{hideLoader()}  \n}\n\nform.addEventListener(\"submit\", forListener);\nPgBtn.addEventListener(\"click\", forPgBtn); \nconst modal = new SimpleLightbox('.gallery a', {captionsData: 'alt', captionDelay: '250'});\n"],"names":["perPage","axios","END_POINT","KEY","getPicture","value","page","list","createMarkup","arr","el","rendering","form","input","PgBtn","loader","scrollOn","element","scrolHeight","showLoader","hideLoader","showBtn","hideBtn","theEnd","length","iziToast","forListener","e","inputValue","result","modal","forPgBtn","item","SimpleLightbox"],"mappings":"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"}